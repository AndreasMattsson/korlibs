//apply plugin: 'konan'
apply plugin: 'kotlin-platform-native'
apply plugin: 'maven'
apply plugin: 'maven-publish'
apply plugin: 'com.jfrog.bintray'

repositories {
    mavenLocal()
    jcenter()
    maven { url "https://plugins.gradle.org/m2/" }
    maven { url "https://dl.bintray.com/jetbrains/kotlin-native-dependencies" }
}

sourceSets.main {
    kotlin.srcDir 'src'

    component {
        target nativeTargets
        outputKinds = [EXECUTABLE]
    }
}
sourceSets.test {
    kotlin.srcDir 'test'
}

dependencies {
    expectedBy project(':' + project.name.replace("-native", "-common"))
    implementation "com.soywiz:korio-native:$korgeVersion"
    //implementation "org.jetbrains.kotlin:kotlin-stdlib-native:$kotlinVersion"
    implementation "org.jetbrains.kotlin:kotlin-stdlib-runtime:$kotlinVersion"
    //implementation "com.soywiz:korge-native:$korgeVersion"
}
